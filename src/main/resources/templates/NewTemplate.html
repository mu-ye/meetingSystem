<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4 ">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>无纸化会议系统 </title>
    <!--这边规定了默认的跳转路径-->
    <base th:href="${#request.getContextPath()}+'/'">
    <link href="../vendor/bootstrap/css/bootstrap.min.css"  rel="stylesheet"/>
    <link href="https://cdn.bootcss.com/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css"  rel="stylesheet"/>
    <link href="../build/css/custom.min.css"  rel="stylesheet"/>
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="../bootstrapPlugins/bootstrap-table/bootstrap-table.js"></script>
    <script src="../bootstrapPlugins/bootstrap-table/bootstrap-table-zh-CN.js"></script>
    <script src="https://cdn.bootcss.com/moment.js/2.18.1/moment-with-locales.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
    <script src="../bootstrapPlugins/bootstrap-treeView/treeview.js"></script>
    <!--Font Awesome -->
    <link href="../vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="../vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- Custom Theme Style -->
    <link href="../build/css/custom.css" rel="stylesheet">
    <!--validator-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.5.3/css/bootstrapValidator.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.5.3/js/bootstrapValidator.min.js"></script>
    <!-- 复选框依赖 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
    <script src="../bootstrapPlugins/i18n/defaults-*.min.js"></script>
    <!-- 表单验证 -->
    <script src="../bootstrapPlugins/bootstrapValidator/bootstrapValidator.min.js"></script>
    <link rel="stylesheet" href="../bootstrapPlugins/bootstrapValidator/bootstrapValidator.min.css">
    <!-- 日期选择器 -->
    <link href="https://cdn.bootcss.com/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css"  rel="stylesheet"/>
    <script src="https://cdn.bootcss.com/moment.js/2.18.1/moment-with-locales.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
</head>

<body class="nav-md">
<div class="container body">
    <div class="main_container">
        <!--左面菜单栏-->
        <div class="col-md-3 left_col">
            <div class="left_col scroll-view">
                <div class="navbar nav_title" style="border: 0;">
                    <a href="index/main" class="site_title"><span>无纸化会议系统</span></a>
                </div>
                <div class="clearfix"></div>
                <br>
                <!-- 侧边栏导航开始sidebar menu -->
                <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
                    <div class="menu_section">
                        <h3>BY 电信院</h3>
                        <ul class="nav side-menu">
                            <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_CHECK')"><a href="/index/todo" ><i class="fa fa-desktop"></i> 我的待办 </a>
                                <!-- <li><a href="index/gotoMain"><i class="fa fa-home"></i> 主页 </a>-->
                            <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT','ROLE_UPLOAD')"><a><i class="fa fa-windows"></i> 会议管理 <span class="fa fa-chevron-down"></span></a>
                                <ul class="nav child_menu">
                                    <!--<li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT')"><a href="index/newMeeting">新建会议</a></li>-->
                                    <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT')"><a href="index/manageMeeting">我的会议</a></li>
                                    <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_UPLOAD')"><a href="index/toCheck">待上传会议</a></li>
                                    <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT')"><a href="index/historyMeeting">历史会议</a></li>
                                </ul>
                            </li>

                            <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT')"><a><i class="fa fa-copy"></i> 模板管理 <span class="fa fa-chevron-down"></span></a>
                                <ul class="nav child_menu">
                                    <li><a href="index/newTemplate">新建模板</a></li>
                                    <li><a href="index/manageTemplate">我的模板</a></li>
                                </ul>
                            </li>
                            <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT')"><a><i class="fa fa-edit"></i> 表单管理 <span class="fa fa-chevron-down"></span></a>
                                <ul class="nav child_menu">
                                    <li><a href="index/manageForm">我的表单</a></li>
                                    <li><a href="index/manageTitle">我的表头</a></li>
                                </ul>
                                <!--                            <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT')"><a href="/index/manageRole" ><i class="fa fa-crosshairs"></i> 权限管理 </a>-->
                            <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT')"><a href="/index/manageGroup" ><i class="fa fa-group"></i> 群组管理 </a>
                                <!--                            <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT')"><a href="/index/manageDepartment" ><i class="fa fa-briefcase"></i> 部门管理 </a>-->
                            <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT')"><a href="/index/manageUser" ><i class="fa fa-user"></i> 用户管理 </a>
                            <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT')"><a href="/index/manageLeader" ><i class="fa fa-user-secret"></i>领导管理</a>
                            <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT')"><a href="/index/manageIp" ><i class="fa fa-info"></i> IP管理 </a>
                            <li sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_MEETING_CREAT')"><a href="/index/sendMessage" ><i class="fa fa-send"></i> 钉钉消息</a>
                            <li><a href="index/login" ><i class="fa fa-sign-out"></i> 退出 </a>
                        </ul>
                    </div>
                </div>
                <!-- 侧边栏底部 工具 开始/menu footer buttons -->
                <div class="sidebar-footer hidden-small 1">
                </div>
                <!-- 侧边栏底部工具 结束/menu footer buttons -->
            </div>
        </div>
        <!--左面菜单栏结束-->
        <!-- 右边  导航栏 -->
        <div class="top_nav">
            <div class="nav_menu">
                <div class="nav toggle">
                    <a id="menu_toggle"><i class="fa fa-bars"></i></a>
                </div>
                <nav class="nav navbar-nav">
                    <ul class="navbar-right">
                        <li  style="padding-left: 15px;">
                            欢迎 ： <span id="userName"></span>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <!-- 右边  导航栏结束 -->
        <!-- 主体内容开始 /page content -->
        <div class="right_col" role="main">
            <!--页面主体内容-->
            <div class="row" >
                <!--占全部   一行-->
                <div class="col-md-12 col-sm-12"  >

                    <!--新建模板-->
                    <div class="x_panel">
                        <div class="container">
                            <!--新建模板-->
                            <br>
                            <div class="row">
                                <div class="col-sm-3" style="text-align: right">
                                    <label class="btn">模板名称 ： </label>
                                </div>
                                <div class="col-sm-6 col-sm-offset-1">
                                    <input class="province form-control" name="newTemplateText" id="newTemplateText"></input>
                                </div>
                                <div class="col-sm-2">
                                    <div class=form-group>
                                       <button class="btn btn-info" id="newTemplateBtn">创建</button>
                                    </div>
                                </div>
                            </div>
                            <div class="divider"></div>

                            <!--显示可见内容-->
                            <div class="row" id="editTemplateShow">
                                <br>
                                <!--树形目录结构-->
                                <div class="col-sm-3">
                                   <!-- <span><b> <p> 会议目录结构 ：</p></b></span><br>-->
                                    <div id="templateMenu"></div>
                                </div>
                                <div class="col-sm-offset-1 col-sm-8" id="editMenuShow">
                                    <span><b> <p id="p_path"> </p></b></span><br>
                                    <div class="row">
                                        <div class="col-sm-9">
                                            <div class="row">
                                                <div class="col-sm-3">
                                                    <button class="btn btn-info" style="width: 100%" id="changeName">重命名</button>
                                                </div>
                                                <div class="col-sm-3">
                                                    <button class="btn btn-danger" id="delNode" style="width: 100%;">删除节点</button>
                                                </div>
                                                <div class="col-sm-3">
                                                    <button class="btn btn-default" id="addSameLevelNode" style="width: 100%;">添加同级节点</button>
                                                </div>
                                                <div class="col-sm-3">
                                                    <button class="btn btn-light" id="addNextLevelNode" style="width: 100%;">添加子节点</button>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <!--弹窗-->
                                    <div>
                                        <!--节点重命名弹窗-->
                                        <div class="modal fade" id="changeNameModel" tabindex="-1" role="dialog"
                                             aria-labelledby="myModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <b><span>重命名</span></b>
                                                        <!-- 关闭按钮 -->
                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="form-group">
                                                            <label>节点名称 : </label>
                                                            <input class="province form-control" name="changeNodeName" id="changeNodeName"></input>
                                                        </div>
                                                        <div class="form-group">
                                                            <button type="button" class="btn btn-info" data-dismiss="modal" style="width: 100%" id="submitChangeNodeName">提交</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--添加同级节点-->
                                        <div class="modal fade" id="addSameLevelNodeModel" tabindex="-1" role="dialog"
                                             aria-labelledby="myModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <b><span>添加同级节点：</span></b>
                                                        <!-- 关闭按钮 -->
                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="form-group">
                                                            <label>节点名称 : </label>
                                                            <input class="province form-control" name="sameLevelNodeName" id="sameLevelNodeName"></input>
                                                        </div>
                                                        <div class="form-group">
                                                            <button type="button" class="btn btn-info" data-dismiss="modal" style="width: 100%" id="submitSameLevelName">提交</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--添加子节点-->
                                        <div class="modal fade" id="addNextLevelNodeModel" tabindex="-1" role="dialog"
                                             aria-labelledby="myModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <b><span>添加子节点</span></b>
                                                        <!-- 关闭按钮 -->
                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="form-group">
                                                            <label>节点名称 : </label>
                                                            <input class="province form-control" name="nextLevelNodeName" id="nextLevelNodeName"></input>
                                                        </div>
                                                        <div class="form-group">
                                                            <button type="button" class="btn btn-info" data-dismiss="modal" style="width: 100%" id="submitNextLevelNodeName">提交</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--选择文件上传人-->
                                    <br>
                                    <div class="row">
                                        <label>文件上传人 : </label><br>
                                        <div class="col-sm-9">
                                            <textarea id="uploadUsersText" class="form-control" rows="3"></textarea>
                                        </div>
                                        <div class="col-sm-3">
                                            <button class="btn btn-warning" id="fileUpUserBtn">根据工号添加</button>
                                            <button class="btn btn-info" id="addFileUpBtnByGroup">根据群组添加</button>
                                        </div>
                                        <!--文件上传人弹窗-->
                                        <div class="modal fade" id="addFileUpUserModel" tabindex="-1" role="dialog"
                                             aria-labelledby="myModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <b><span>添加会议创建者</span></b>
                                                        <!-- 关闭按钮 -->
                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <!-- 此处填写弹框主体 -->
                                                        <div class="row">
                                                            <div class="col-sm-10 col-sm-offset-1">
                                                                <label>按工号查询 ：</label>
                                                            </div>
                                                            <div class="col-sm-8 col-sm-offset-1">
                                                                <input class="province form-control" name="jobNumber" id="SearchJobNumber" type="text"></input>
                                                            </div>
                                                            <div class="col-sm-1 offset-sm-1">
                                                                <button type="submit"  id="jobNumberSearch" class="btn btn-info">查询</button>
                                                            </div>
                                                        </div>
                                                        <div class="row" id="showUserInfo">
                                                            <br>
                                                            <div class="col-sm-10 col-sm-offset-1" >
                                                                <div class="form-group">
                                                                    <label>用户信息 : </label>
                                                                    <textarea id="textAreaUserInfoText" class="form-control" rows="3"></textarea>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-10 col-sm-offset-1" >
                                                                <button class="btn btn-info" style="width: 100%" id="btnAdd"> 添加 </button>
                                                            </div>
                                                        </div>



                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                        <!--根据群组添加-->
                                        <div class="modal fade" id="AttendMeetingByGroupModel" tabindex="-1" role="dialog"
                                             aria-labelledby="myModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <b><span>添加用户</span></b>
                                                        <!-- 关闭按钮 -->
                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="form-group">
                                                            <label>选择群组</label>
                                                            <select  class="form-control" id="groupId">
                                                                <option th:each="scholars:${userGroups}" th:value="${scholars.id}" th:text="${scholars.name}"></option>
                                                            </select>
                                                        </div>
                                                        <div class="form-group">
                                                            <button id="addFileUpUserByGroup" class="btn btn-info" style="width: 100%">添加</button>
                                                        </div>

                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <!-- 是否需要审批 -->
                                    <br>
                                    <div class="row">
                                        <label> 是否需要审批</label><br>
                                        <div class="col-sm-9">
                                            <label class="radio-inline" >
                                                <input type="radio" name="radioCheck" id="radioCheckNo" value="checkNo" > 不审批
                                            </label>
                                            <label class="radio-inline">
                                                <input type="radio" name="radioCheck" id="radioCheckYes"  value="checkYes"> 审批
                                            </label>
                                        </div>
                                    </div>
                                    <!--需要审批 展示界面-->
                                    <br>
                                    <div class="row" id="showCheckList">
                                        <label>审批流程: </label><br>
                                        <div class="col-sm-9">
                                            <textarea id="checkUserText" class="form-control" rows="3"></textarea>
                                        </div>
                                        <div class="col-sm-3">
                                            <button class="btn btn-warning" id="checkUserTextBtn">编辑</button>
                                        </div>
                                    </div>
                                    <!--审批弹窗-->
                                    <div class="modal fade" id="addUserCheckModel" tabindex="-1" role="dialog"
                                         aria-labelledby="myModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <b><span>添加会议创建者</span></b>
                                                    <!-- 关闭按钮 -->
                                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <!-- 此处填写弹框主体 -->
                                                    <div class="row">
                                                        <div class="col-sm-10 col-sm-offset-1">
                                                            <label>按工号查询 ：</label>
                                                        </div>
                                                        <div class="col-sm-8 col-sm-offset-1">
                                                            <input class="province form-control" name="jobNumber" id="SearchCheckJobNumber" type="text"></input>
                                                        </div>
                                                        <div class="col-sm-1 offset-sm-1">
                                                            <button type="submit"  id="checkSearchBtn" class="btn btn-info">查询</button>
                                                        </div>
                                                    </div>
                                                    <div class="row" id="showUserInfoCheck">
                                                        <br>
                                                        <div class="col-sm-10 col-sm-offset-1" >
                                                            <div class="form-group">
                                                                <label>用户信息 : </label>
                                                                <textarea id="textAreaCheckUserInfoText" class="form-control" rows="3"></textarea>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-10 col-sm-offset-1" >
                                                            <button class="btn btn-info" style="width: 100%" id="btnAddCheck"> 添加 </button>
                                                        </div>
                                                    </div>



                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <!-- 是否需要表头 -->
                                    <br>
                                    <div class="row">
                                        <label> 是否需要表单</label><br>
                                        <div class="col-sm-9">
                                            <label class="radio-inline" >
                                                <input type="radio" name="radioForm" id="radioFormNo" value="formNo" checked="checked"> 无表头
                                            </label>
                                            <label class="radio-inline">
                                                <input type="radio" name="radioForm" id="radioFormYes"  value="formYes" > 有表头
                                            </label>
                                        </div>
                                    </div>
                                    <!--选取表头-->
                                    <br>
                                    <div class="row" id="showFormList">
                                        <label>选取表头: </label><br>
                                        <div class="col-sm-9">
                                            <select  class="form-control" id="selectForm">
                                                <option th:each="scholars:${formList}" th:value="${scholars.id}" th:text="${scholars.name}"></option>
                                            </select>
                                        </div>
                                        <div class="col-sm-3">
                                            <button class="btn btn-warning" id="formReview">表单预览 </button>
                                        </div>
                                        <!--表单预览弹窗-->
                                        <div class="modal fade" id="formReviewModel" tabindex="-1" role="dialog"
                                             aria-labelledby="myModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-body">
                                                        <form id="initForm">
                                                            <div id="initFormJs">

                                                            </div>
                                                            <div class="form-group">
                                                                <input type="file" name="file" multiple="multiple">
                                                            </div>
                                                            <div class="form-group">
                                                                <button type="button" class="btn btn-primary" style="width: 100%;"  id="sub">上传</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <br>
                                   <!-- <br>
                                    <div class="row">
                                        <label> 是否全部部门可见</label><br>
                                        <div class="col-sm-9">
                                            <label class="radio-inline" >
                                                <input type="radio" name="radioDep" id="radioDepNo" value="depAll" checked="checked"> 全部部门可见
                                            </label>
                                            <label class="radio-inline">
                                                <input type="radio" name="radioDep" id="radioDepYes"  value="depSelect" > 部分部门可见
                                            </label>
                                        </div>
                                    </div>
                                    <br>
                                    <div class="row" id="showDepList">
                                        <label> 选取文件可预览的部门 </label><br>
                                        <div class="col-sm-9">
                                            <select  class="form-control selectpicker" id="selectDep" multiple="multiple">
                                                <option th:each="scholars:${departmentList}" th:value="${scholars.id}" th:text="${scholars.departmentName}"></option>
                                            </select>
                                        </div>
                                    </div>-->


                                    <br>
                                    <div class="row">
                                        <div class="col-sm-9">
                                            <button class="btn btn-info" style="width: 100%" id="saveMenu">保存</button>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 主体内容结束 /page content -->
    <!-- footer content -->
    <footer>
        <div class="pull-right">
            <span><b>南京地铁运营有限责任公司</b></span>
        </div>
        <div class="clearfix"></div>
    </footer>
    <!-- /footer content -->
</div>
</div>
<!-- FastClick -->
<script src="../vendors/fastclick/lib/fastclick.js"></script>
<!-- NProgress -->
<script src="../vendors/nprogress/nprogress.js"></script>
<!-- Chart.js -->
<script src="../vendors/Chart.js/dist/Chart.min.js"></script>
<!-- jQuery Sparklines -->
<script src="../vendors/jquery-sparkline/dist/jquery.sparkline.min.js"></script>
<!-- Flot -->
<script src="../vendors/Flot/jquery.flot.js"></script>
<script src="../vendors/Flot/jquery.flot.pie.js"></script>
<script src="../vendors/Flot/jquery.flot.time.js"></script>
<script src="../vendors/Flot/jquery.flot.stack.js"></script>
<script src="../vendors/Flot/jquery.flot.resize.js"></script>
<!-- Flot plugins -->
<script src="../vendors/flot.orderbars/js/jquery.flot.orderBars.js"></script>
<script src="../vendors/flot-spline/js/jquery.flot.spline.min.js"></script>
<script src="../vendors/flot.curvedlines/curvedLines.js"></script>
<!-- DateJS -->
<script src="../vendors/DateJS/build/date.js"></script>
<!-- bootstrap-daterangepicker -->
<!-- <script src="../vendors/moment/min/moment.min.js"></script>
 <script src="../vendors/bootstrap-daterangepicker/daterangepicker.js"></script>-->

<!-- Custom Theme Scripts -->
<script src="../build/js/custom.min.js"></script>

<script src="../layer-v3.1.1/layer/layer.js"></script>
<script src="../js/sys/NewTemplate.js"></script>
<script src="../js/common/initForm.js"></script>
</body>
</html>